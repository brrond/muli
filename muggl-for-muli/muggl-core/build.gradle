apply plugin: 'java'

dependencies {
	runtimeOnly project(':muggl-solver-muconst')
	runtimeOnly project(':muggl-solver-jacop')
	runtimeOnly project(':muggl-solver-z3')
	implementation project(':muggl-solvers')
	implementation project(':muggl-common')
    implementation 'org.apache.bcel:bcel:6.2'
    implementation 'log4j:log4j:1.2.17'
}

sourceSets {
	main.java.srcDir "src"
	test.java.srcDir "junit"
	test.resources.srcDir "junit-res"
}

test {
    testLogging {
        events "started", "passed", "skipped", "failed"
        exceptionFormat = 'full'
    }

    useJUnit {
        excludeCategories 'de.wwu.muggl.NotYetSupported'
    }
	//TODO maxParallelForks = 2
    tasks.withType(Test) {
        enableAssertions = false // as long as the org.jacop has the failing assertion
    }
}

eclipse.jdt.file {
	withProperties { jdt ->
		setProperties(jdt)
	}
}
